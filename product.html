<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<header class="header header--product-page">
			<ul class="header__items">
				<li class="header__item display-none primary-navigation-button">
					<button class="btn-icon"><img src="icons/menu.svg" alt="menu icon" /></button>
				</li>
				<li class="header__item">
					<a href="index.html" class="logo-surl"><img src="icons/logo-surl.svg" alt="surl logo" /></a>
				</li>
				<li class="header__item primary-navigation-wrapper">
					<nav class="primary-navigation">
						<button id="primary-nav-close-btn" class="btn-icon btn-icon--close">
							<img src="icons/close.svg" alt="" />
						</button>
						<ul class="primary-navigation__items">
							<li class="primary-navigation__item"><a href="">Music</a></li>
							<li class="primary-navigation__item"><a href="">Shows</a></li>
							<li class="primary-navigation__item"><a href="">Store</a></li>
							<li class="primary-navigation__item"><a href="">About us</a></li>
							<li class="primary-navigation__item primary-navigation__search">
								<form action="" id="header-search-form" class="search__form visibility-hidden">
									<input type="text" placeholder="SEARCH" class="search__text" />
									<input type="submit" value="GO" class="search__submit" disabled />
								</form>
								<button id="search-activate-button" class="search__button btn-icon">
									<img src="icons/search.svg" alt="search icon" />
								</button>
							</li>
						</ul>
					</nav>
				</li>
				<li class="header__item bag-navigation-wrapper">
					<button class="bag-navigation-button btn-icon">
						<img src="icons/shopping-bag.svg" alt="shopping-bag" />
					</button>
					<nav class="bag-navigation display-none">
						<ul class="bag-navigation__items">
							<li class="bag-navigation__item bag-navigation__added-items-wrapper">
								<ul class="bag-navigation__added-items">
									<li class="bag-navigation__added-item">
										<a href="" class="added-item__link">
											<img src="album1.1.png" alt="" class="added-item__img" />
											<span class="added-item__name">Beside [Single] 7" Vinylasasasasasasasasaa</span>
										</a>
										<span class="added-item__quantity">x2</span>
									</li>
									<li class="bag-navigation__added-item">
										<a href="" class="added-item__link">
											<img src="album1.1.png" alt="" class="added-item__img" />
											<span class="added-item__name">Beside [Single] 7" Vinylasasasasasasasasaa</span>
										</a>
										<span class="added-item__quantity">x2</span>
									</li>
								</ul>
							</li>
							<li class="bag-navigation__item">
								<a href="" class="item__link">
									<img src="icons/shopping-bag.svg" alt="" class="item__icon" />
									<span class="item__name">Bag</span>
								</a>
							</li>
							<li class="bag-navigation__item">
								<a href="" class="item__link">
									<img src="icons/find-order.svg" alt="" class="item__icon" />
									<span class="item__name">Find an order</span>
								</a>
							</li>
							<li class="bag-navigation__item">
								<a href="" class="item__link">
									<img src="icons/report.svg" alt="" class="item__icon" />
									<span class="item__name">Report a problem</span>
								</a>
							</li>
						</ul>
					</nav>
				</li>
			</ul>
		</header>

		<main class="product-page">
			<div class="product-page__product">
				<div class="product__left-section-wrapper">
					<div class="product__left-section">
						<h1 class="product__name product__name--sold-out"> Beside [Single] 7" Vinyl </h1>
						<div class="product__price"> P2,435.00</div>
						<div class="product__description">
							<div class="description__header"></div>
							<div class="description__body">
								<p>'Beside' and 'Colors' that SURL (Seol) worked on in the early days of its formation</p>
								<p>It is telling a deep story that someone has experienced at least once.</p>
							</div>
						</div>
						<div class="product__description">
							<div class="description__header"> Album Spec </div>
							<div class="description__body"> 7", Black, Single Jacket, 45 RMP, 1 Lyric Poster </div>
						</div>
						<div class="product__description product__description--list">
							<div class="description__header"> Track List </div>
							<div class="description__body">
								<ol>
									<li><span>Beside</span></li>
									<li><span>Colors</span></li>
								</ol>
							</div>
						</div>
					</div>
				</div>
				<div class="product__images-wrapper">
					<div class="product__images-navigator">
						<button class="btn-icon navigator navigator--left"><img src="icons/caret-left.svg" alt="" /></button>
						<button class="btn-icon navigator navigator--right"><img src="icons/caret-right.svg" alt="" /></button>
					</div>
					<div class="product__images">
						<div class="product__image-wrapper">
							<img src="/1.jpg" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/2.jpg" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/3.jpg" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/4.jpg" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/5.jpg" alt="" class="product__image" />
						</div>
						<!-- <div class="product__image-wrapper">
							<img src="/album1.1.png" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/album1.2.png" alt="" class="product__image" />
						</div>
						<div class="product__image-wrapper">
							<img src="/album1.3.png" alt="" class="product__image" />
						</div> -->
					</div>
					<div class="product__images-indicator">
						<span class="indicator indicator--active"></span>
						<span class="indicator"></span>
						<span class="indicator"></span>
						<span class="indicator"></span>
						<span class="indicator"></span>
					</div>
				</div>
				<div class="product__right-section-wrapper">
					<div class="product__right-section">
						<h1 class="product__name product__name--sold-out"> Beside [Single] 7" Vinylaaasasasasasa</h1>
						<div class="product__price"> P2,435.00</div>
						<div class="product__notify-option">
							<p class="notify-option__pretext">Get notified when this product is back in stock.</p>
							<form action="" class="notify-option__form" name="notify-me" novalidate>
								<input
									type="email"
									placeholder="Email Address"
									class="input-box"
									pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"
									name="notify-me"
									required
								/>
								<input type="submit" value="NOTIFY ME" name="notify-me" class="btn-submit" />
							</form>
							<p class="notice">By clicking 'Notify Me', you agree on our Terms and Services.</p>
							<!-- <p class="notify-option__pretext notify-option__pretext--submitted">
								We'll let you know as soon as this becomes available!
							</p>
							<p class="notify-option__pretext">For now, you may click <a href="">here</a> to browse other items.</p> -->
						</div>
						<div class="product__size-option">
							<select name="size" id="product-size">
								<option value="" disabled selected>CHOOSE SIZE</option>
								<option value="small">SMALL - Only 3 remaining</option>
								<option value="medium">MEDIUM - Only 2 remaining</option>
							</select>
						</div>
						<div class="product__add-to-bag-option">
							<button class="btn-submit">ADD TO BAG</button>
							<div class="notice">
								<p>Delays and out of stock may occur due to order congestion and supply circumstances.</p>
								<p>
									Products that take longer than the standard delivery period or out of stock items will be individually
									contacted.
								</p>
							</div>
						</div>
						<div class="product__description">
							<div class="description__header"></div>
							<div class="description__body">
								<p class="description__text">
									'Beside' and 'Colors' that SURL (Seol) worked on in the early days of its formation
								</p>
								<p class="description__text">
									It is telling a deep story that someone has experienced at least once.
								</p>
							</div>
						</div>
						<div class="product__description">
							<div class="description__header"> Album Spec </div>
							<div class="description__body"> 7", Black, Single Jacket, 45 RMP, 1 Lyric Poster </div>
						</div>
						<div class="product__description product__description--list">
							<div class="description__header"> Track List </div>
							<div class="description__body">
								<ol>
									<li><span>Beside</span></li>
									<li><span>Colors</span></li>
								</ol>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- <div class="product__other-information">
				<div class="other-information__shipping" style="margin-bottom: 100em">
					<p><span>Delivery Company:</span> CJ Korea Express (1588-1255)</p>
					<p><span>Delivery Area:</span> All regions of Korea</p>
					<p>
						<span>Shipping Cost:</span> One way 2,800 won (If the first delivery is free, 5,800 won is charged) / Free
						with purchases of 30,000 won or more / Jeju additional 3,000 won, island areas other than Jeju additional
						3,000 won
					</p>
					<p><span>Delivery Period:</span> Ships within 3 days from the date of payment</p>
				</div>
				<div class="other-information__exchange-return">
					<p>
						<span>Shopping Cost:</span>
						Simple change of mind: round-trip delivery fee 5,800 won
					</p>
					<p>
						<span>Return Address:</span>
						Happy Robot Record, 3rd floor, 78 Seogang-ro, Mapo-gu, Seoul (MPMG) (Right: 04099)
					</p>
					<div>
						<span>Request period according to the reason for return/exchange</span>
						<ul>
							<li>
								<p>
									Buyer's simple change of mind within 7 days of receipt of the product (Buyer bears the return shipping
									cost)
								</p>
							</li>
							<li>
								<p>
									In the case of product defects, returns/exchanges are not allowed within 3 months of receipt of the
									product or within 30 days of knowing that the product is different from the indication/advertisement
									(seller bears the return shipping cost)
								</p>
							</li>
						</ul>
					</div>
				</div>
				<div class="other-information__seller"></div>
			</div> -->
		</main>
	</body>
	<script>
		(function () {
			const header = document.querySelector('.header');

			const searchActivateButton = header.querySelector('#search-activate-button');
			const searchForm = header.querySelector('#header-search-form');
			const searchFormText = searchForm.querySelector('.search__text');
			const searchFormSubmit = searchForm.querySelector('.search__submit');

			searchActivateButton.addEventListener('click', (e) => {
				searchForm.classList.toggle('visibility-hidden');
			});

			searchFormText.addEventListener('input', (e) => {
				if (searchFormText.value) {
					searchFormSubmit.removeAttribute('disabled');
					searchFormSubmit.style.cursor = 'pointer';
					searchFormSubmit.style.color = 'rgba(var(--color-orange), 1)';
					searchFormSubmit.style.opacity = 1;
				} else {
					searchFormSubmit.setAttribute('disabled', '');
					searchFormSubmit.style.cursor = 'not-allowed';
					searchFormSubmit.style.color = '';
					searchFormSubmit.style.opacity = 0.7;
				}
			});

			const primaryNavButton = header.querySelector('.primary-navigation-button');
			const primaryNavCloseButton = header.querySelector('#primary-nav-close-btn');
			const primaryNavWrapper = header.querySelector('.primary-navigation-wrapper');

			const bagNavButton = header.querySelector('.bag-navigation-button');
			const bagNav = header.querySelector('.bag-navigation');

			activateNavigation(primaryNavButton, primaryNavWrapper, 'translate-x-0', primaryNavCloseButton);
			activateNavigation(bagNavButton, bagNav, 'display-none');

			function activateNavigation(button, container, className, closeButton = undefined) {
				const offClick = function (e) {
					if (!container.contains(e.target) || (closeButton != undefined && closeButton.contains(e.target))) {
						container.classList.toggle(className);
						e.stopPropagation();
						document.removeEventListener('click', offClick, true);
					}
				};

				button.addEventListener('click', (e) => {
					container.classList.toggle(className);
					e.stopPropagation();
					document.addEventListener('click', offClick, true);
				});
			}
		})();

		(function () {
			const productPage = document.querySelector('.product-page');
			const prevButton = productPage.querySelector('.navigator--left');
			const nextButton = productPage.querySelector('.navigator--right');
			const imagesContainer = productPage.querySelector('.product__images');
			const images = imagesContainer.children;
			const imagesIndicators = Array.from(productPage.querySelector('.product__images-indicator').children);

			// console.log(imagesIndicators);

			let currentImageIndex = 0;

			nextButton.addEventListener('click', (e) => {
				moveImagesContainer(currentImageIndex + 1);
			});

			prevButton.addEventListener('click', (e) => {
				moveImagesContainer(currentImageIndex - 1);
			});

			imagesIndicators.forEach((indicator) => {
				indicator.addEventListener('click', (e) => {
					moveImagesContainer(imagesIndicators.indexOf(e.target));
				});
			});

			function moveImagesContainer(toImageIndex) {
				imagesIndicators[currentImageIndex].classList.remove('indicator--active');

				if (toImageIndex > images.length - 1) {
					currentImageIndex = 0;
				} else if (toImageIndex < 0) {
					currentImageIndex = images.length - 1;
				} else {
					currentImageIndex = toImageIndex;
				}

				imagesContainer.style.transform = 'translateX(' + currentImageIndex * -100 + '%)';
				imagesIndicators[currentImageIndex].classList.add('indicator--active');
			}
		})();
	</script>
	<script>
		const form = document.querySelector("form[name='notify-me']");

		requirePatternOnLoadBlur(form);
		validateFormOnSubmit(form);

		function validateFormOnSubmit(form) {
			const inputBoxes = Array.from(document.querySelectorAll("input[required='']"));

			form.addEventListener('submit', (e) => {
				const warningElement = form.querySelector('.no-input-warning');

				for (let i = 0; i < inputBoxes.length; i++) {
					if (!inputBoxes[i].value) {
						e.preventDefault();
						inputBoxes[i].focus();
						return;
					}
				}

				if (warningElement) {
					e.preventDefault();
					warningElement.parentElement.querySelector('input').focus();
					return;
				}
			});
		}

		function requirePatternOnLoadBlur(form) {
			const inputBoxes = Array.from(form.querySelectorAll('input[pattern]'));

			window.addEventListener('load', (e) => {
				inputBoxes.forEach((inputBox) => {
					requirePattern(null, inputBox);
				});
			});

			inputBoxes.forEach((inputBox) => {
				inputBox.addEventListener('blur', requirePattern.bind(null, event, inputBox));
			});

			function requirePattern(e, inputBox) {
				const regexPattern = new RegExp(inputBox.pattern);

				if (inputBox.value && !regexPattern.test(inputBox.value)) {
					console.log(inputBox);
					const label = inputBox.parentElement.querySelector(`label[for='${inputBox.id}']`);
					let warningMessage = `Invalid ${inputBox.placeholder.toLowerCase()}`;
					console.log(label);

					if (label) warningMessage = `Invalid ${label.innerText.toLowerCase()}`;

					const warningElement = document.createElement('p');
					const warningText = document.createTextNode(warningMessage);

					warningElement.appendChild(warningText);
					warningElement.classList.add('no-input-warning');
					inputBox.parentElement.appendChild(warningElement, inputBox);
					inputBox.style.borderColor = 'red';

					inputBox.addEventListener('input', (e) => {
						if (inputBox.value) {
							warningElement.remove();
							inputBox.style.borderColor = 'rgba(var(--color-gray), 0.5)';
						}
					});
				}
			}
		}
	</script>
</html>
